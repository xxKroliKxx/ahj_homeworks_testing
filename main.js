(()=>{"use strict";const t=document.getElementsByClassName("payment_system"),s=document.getElementsByClassName("card_number_input")[0],i=document.getElementsByClassName("card_button")[0],e=new class{constructor(t,s,i){this.images=t,this.input=s,this.button=i,this.timerId=null}initEvent(){this.input.addEventListener("input",(t=>this.inputEvent(t))),this.button.addEventListener("click",(t=>this.buttonOnClickEvent(t)))}buttonOnClickEvent(){const t=function(t){if(!/^[0-9]{16}$/.test(t))return!1;let s=0;for(let i=0;i<t.length;i+=1){let e=Number(t.substr(i,1));i%2==0&&(e*=2,e>9&&(e=1+e%10)),s+=e}return s%10==0}(this.input.value);t&&(this.input.classList.contains("invalid")&&this.input.classList.remove("invalid"),this.input.classList.add("valid"),clearTimeout(this.timerId),this.timerId=setTimeout((()=>this.input.classList.remove("valid")),1500)),t||(this.input.classList.contains("valid")&&this.input.classList.remove("valid"),this.input.classList.add("invalid"),clearTimeout(this.timerId),this.timerId=setTimeout((()=>this.input.classList.remove("invalid")),1500))}inputEvent(t){const s=function(t){switch(t.slice(0,1)){case"2":return"Mir";case"4":return"Visa";case"5":return"MasterCard";default:return""}}(t.target.value);for(let t=0;t<this.images.length;t+=1){const i=this.images[t];i.classList.contains("blackout")||i.classList.add("blackout"),("Visa"===s&&0===t||"MasterCard"===s&&1===t||"Mir"===s&&2===t)&&i.classList.remove("blackout")}}}(t,s,i);e.initEvent()})();